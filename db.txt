create table person (
    id int auto_increment primary key,
    name VARCHAR(30) not null
);

create table photo (
    id int auto_increment primary key,
    person_id int,
    photo mediumblob not null,
    file_name varchar(30),
    foreign key (person_id) references person(id)
);

create table users (
    id int auto_increment primary key,
    username varchar(30) unique not null,
    password varchar(30) not null
);

alter table photo add column visibility varchar(10) default 'public';

alter table users add column name varchar(30) not null;
update users set name = 'adam' where name is null or name = '';
